import xbmc,xbmcaddon,xbmcgui,xbmcplugin,urllib,urllib2,os,re,sys,datetime,hashlib,timeimport base64import HTMLParserimport osfrom resources.libs.modules import satoolsaddon_id        = 'plugin.video.streamarmy'AddonTitle      = "[COLOR red][B]STREAM ARMY[/B][/COLOR]"fanart          = xbmc.translatePath(os.path.join('special://home/addons/' + addon_id , 'fanart.jpg'))fanarts         = xbmc.translatePath(os.path.join('special://home/addons/' + addon_id , 'fanart.jpg'))icon            = 'http://i.imgur.com/c9H2dtl.png'dialog          = xbmcgui.Dialog()dp              = xbmcgui.DialogProgress()def EPORNER_CATS():    url = 'https://www.eporner.com/'    link = satools.open_url(url)    match = re.compile ('<li class="">(.+?)</li>').findall(link)    for links in match:        title = re.compile ('<strong>(.+?)</strong>').findall(links)[0]        number = re.compile ('<div class="cllnumber">(.+?)</div>').findall(links)[0]        url1 = re.compile ('<a href="(.+?)"').findall(links)[0]        url = 'https://www.eporner.com' + url1        if not 'All'in title:            if not 'Homemade' in title:                satools.addDir("[COLOR silver]" + title + "  " + "[COLOR yellow]" + number + "[/COLOR]",url,82,icon,fanarts,'')                def EPORNER_VIDS(url):    link = satools.open_url(url)    match = re.compile('<div class="mb hdy"(.+?)<div class="mbvie">').findall(link)    for links in match:        title = re.compile ('title="(.+?)"').findall(links)[0]        url1 = re.compile ('<a href="(.+?)"').findall(links)[0]        icon = re.compile ('src="(.+?)"').findall(links)[0]        url = 'https://www.eporner.com' + url1        satools.addDir("[COLOR silver]" + title + "[/COLOR]",url,83,icon,fanarts,'')            try:        np = re.compile ('<a href=\"([^"]*)\" title="Next page">').findall(link)[0]        nextpage = 'https://www.eporner.com' + np        npicon = 'http://i.imgur.com/B4r7zDm.png'        satools.addDir("[COLOR red]" + "Next Page" + "[/COLOR]",nextpage,82,npicon,fanarts,'')    except:pass   def EPORNER_LINKS(url,iconimage):    link = satools.open_url(url).replace('\n', '').replace('\r','').replace('\t','')    play = re.compile ('<div id="hd-porn-dload">(.+?)</div>').findall(link)[0]    grab = re.compile ('<strong>(.+?)</strong>.+?<a href="(.+?)"').findall(play)    for quality,link in grab:        quality = quality.replace(':', '')        url = 'https://www.eporner.com' + link        satools.addLink("[COLOR yellow]" + "Link Quality is :: " + "[COLOR silver]" + quality + "[/COLOR]",url,7,iconimage,fanarts,'')                