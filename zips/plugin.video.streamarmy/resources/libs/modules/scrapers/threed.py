import xbmc,xbmcaddon,xbmcgui,xbmcplugin,urllib,urllib2,os,re,sys,datetime,hashlibimport base64import HTMLParserimport osfrom resources.libs.modules import satoolsaddon_id        = 'plugin.video.streamarmy'AddonTitle      = "[COLOR red][B]STREAM ARMY[/B][/COLOR]"fanart          = xbmc.translatePath(os.path.join('special://home/addons/' + addon_id , 'fanart.jpg'))fanarts         = xbmc.translatePath(os.path.join('special://home/addons/' + addon_id , 'fanart.jpg'))icon            = xbmc.translatePath(os.path.join('special://home/addons/' + addon_id, 'icon.png'))dialog          = xbmcgui.Dialog()dp              = xbmcgui.DialogProgress()def SCRAPE_3D_CONTENT(url):        link = satools.open_url(url)    match = re.compile('<div class="view">(.+?)<div class="wrap-col">').findall(link)    for links in match:        title = re.compile ('title="(.+?)"').findall(links)[0]        url1 = re.compile ('<a href="(.+?)"').findall(links)[0].replace(' ', '%20')        icon1 = re.compile ('<img src="(.+?)"').findall(links)[0]        url = 'http://www.3dmoviesfullhd.com/' + url1        icon = 'http://www.3dmoviesfullhd.com/' + icon1        fanart = 'http://www.3dmoviesfullhd.com/' + icon1        satools.addDir(title,url,33,icon,fanart)            try:        next = re.compile ('<span class="page active">.+?</span>.+?<a href=\"([^"]*)\" class="page gradient">.+?</a>').findall(link)[0].replace('amp;', '')        nextpage = 'http://www.3dmoviesfullhd.com' + next        np = 'http://i.imgur.com/B4r7zDm.png'        satools.addDir("[COLOR red]Next Page[/COLOR]",nextpage,32,np,fanart)    except:pass                def SCRAPE_3D_PLAY(url,iconimage,fanart):    link = satools.open_url(url)    match = re.compile('<div id="sPlayer">(.+?)</div>').findall(link)[0]    grab = re.compile ('{.+?file:.+?"(.+?)", label: "(.+?)"').findall(match)    for url,title in grab:        title = title.replace('Full', '')        satools.addLink(title,url,2,iconimage,fanart)        